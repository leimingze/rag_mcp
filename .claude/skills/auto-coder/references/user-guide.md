# Auto-Coder ä½¿ç”¨æ‰‹å†Œ

## ç›®å½•

1. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
2. [è§„æ ¼å˜æ›´ç®¡ç†](#è§„æ ¼å˜æ›´ç®¡ç†)
3. [å˜æ›´æ£€æµ‹åŠŸèƒ½](#å˜æ›´æ£€æµ‹åŠŸèƒ½)
4. [åœºæ™¯å¤„ç†æŒ‡å—](#åœºæ™¯å¤„ç†æŒ‡å—)
5. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
6. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

```bash
# 1. åŒæ­¥è§„æ ¼æ–‡æ¡£ï¼ˆç”Ÿæˆä»»åŠ¡ç´¢å¼•ï¼‰
python3 .claude/skills/auto-coder/scripts/sync_spec.py --spec devspec.md --output specs/

# 2. æŸ¥çœ‹ä¸‹ä¸€ä¸ªä»»åŠ¡
python3 .claude/skills/auto-coder/scripts/find_task.py --index specs/task_index.json

# 3. åˆ—å‡ºæ‰€æœ‰æœªå®Œæˆä»»åŠ¡
python3 .claude/skills/auto-coder/scripts/find_task.py --index specs/task_index.json --list
```

### è§¦å‘ Auto-Coder

åœ¨ Claude Code ä¸­ä½¿ç”¨ä»¥ä¸‹å…³é”®è¯è§¦å‘ï¼š

```
auto code
auto dev
è‡ªåŠ¨å¼€å‘
autopilot
next task
```

---

## è§„æ ¼å˜æ›´ç®¡ç†

### å˜æ›´å½±å“è¯„ä¼°è¡¨

| å˜æ›´ç±»å‹ | å½±å“ç¨‹åº¦ | çº§è”å½±å“ | å¤„ç†æ–¹å¼ |
|---------|---------|---------|---------|
| æ–°å¢ä»»åŠ¡/ç« èŠ‚ | âœ… æ— å½±å“ | æ—  | æ­£å¸¸å¤„ç† |
| ä¿®æ”¹éªŒæ”¶æ ‡å‡† | âš ï¸ ä¸­ç­‰ | å¯èƒ½å½±å“ä¾èµ– | æ ‡è®°ä¸º `[~]` |
| æ›´æ”¹æ–‡ä»¶è·¯å¾„ | âš ï¸ ä¸­ç­‰ | éœ€è¦è¿ç§»æ—§æ–‡ä»¶ | åˆ é™¤æ—§æ–‡ä»¶ |
| æ ¸å¿ƒæ¥å£å˜æ›´ | â— é‡å¤§ | éœ€è¦çº§è”æ›´æ–° | æ‰¹é‡è¿”å·¥ |
| åˆ é™¤å·²å®Œæˆä»»åŠ¡ | â— é‡å¤§ | ç ´åä¾èµ–å…³ç³» | ä¸æ¨è |

### å˜æ›´å¤„ç†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      1. ä¿®æ”¹ devspec.md                          â”‚
â”‚                 (æ–°å¢/ä¿®æ”¹/åˆ é™¤ä»»åŠ¡å®šä¹‰)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 2. é‡æ–°åŒæ­¥ï¼šsync_spec.py                       â”‚
â”‚           æ£€æµ‹å˜æ›´ï¼Œç”Ÿæˆæ–°çš„ task_index.json                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              3. æŸ¥çœ‹å˜æ›´æŠ¥å‘Šï¼šreview_changes.py                  â”‚
â”‚           äº†è§£å“ªäº›ä»»åŠ¡è¢«ä¿®æ”¹ï¼Œå“ªäº›ä¾èµ–å—å½±å“                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               4. æ‰‹åŠ¨è°ƒæ•´ä»»åŠ¡çŠ¶æ€ï¼ˆå¦‚éœ€è¦ï¼‰                     â”‚
â”‚       å°†å—å½±å“çš„ä»»åŠ¡ä» [x] æ”¹ä¸º [~] æˆ– [ ]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              5. é‡æ–°è¿è¡Œ auto-coder å¤„ç†å˜æ›´                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å˜æ›´æ£€æµ‹åŠŸèƒ½

### sync_spec.py å˜æ›´æ£€æµ‹

é‡æ–°è¿è¡ŒåŒæ­¥æ—¶ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å˜æ›´ï¼š

```bash
python3 .claude/skills/auto-coder/scripts/sync_spec.py --spec devspec.md --output specs/
```

**è¾“å‡ºç¤ºä¾‹**ï¼š

```
ğŸ“– è§£æè§„æ ¼æ–‡æ¡£: devspec.md
ğŸ“‹ æå–åˆ° 100 ä¸ªä»»åŠ¡

âš ï¸  æ£€æµ‹åˆ°è§„æ ¼å˜æ›´ï¼š

ğŸ“ æ–°å¢ä»»åŠ¡ (2):
  âœ¨ [task-056] Dashboard Streamlit é¡µé¢
  âœ¨ [task-057] Docker éƒ¨ç½²é…ç½®

ğŸ”„ ä¿®æ”¹ä»»åŠ¡ (3):
  ~ [task-002] LLMæŠ½è±¡åŸºç±»
    â”œâ”€ éªŒæ”¶æ ‡å‡†: "chat()æ–¹æ³•å®šä¹‰" â†’ "chat()æ–¹æ³•æ”¯æŒstream"
    â”œâ”€ é¢„è®¡å·¥æ—¶: 2h â†’ 3h
    â””â”€ âš ï¸ å»ºè®®: å°†çŠ¶æ€ä» [x] æ”¹ä¸º [~] å¹¶é‡æ–°å®ç°

  ~ [task-015] Chunk Refiner
    â”œâ”€ æ–‡ä»¶è·¯å¾„: "src/ingestion/chunk_refiner.py" â†’ "src/ingestion/transform/chunk_refiner.py"
    â””â”€ âš ï¸ å»ºè®®: è¿ç§»æ—§æ–‡ä»¶åˆ°æ–°è·¯å¾„

  ~ [task-045] Response Builder
    â””â”€ éªŒæ”¶æ ‡å‡†: æ–°å¢å¤šæ¨¡æ€æ”¯æŒè¦æ±‚

ğŸ”— çº§è”å½±å“åˆ†æ:
   â†’ [task-045] Response Builder ä¾èµ– [task-002] LLMæŠ½è±¡åŸºç±»
   â†’ [task-048] Query Tool ä¾èµ– [task-002] LLMæŠ½è±¡åŸºç±»
   â†’ [task-051] Ingestion Pipeline ä¾èµ– [task-015] Chunk Refiner

ğŸ“„ å˜æ›´æŠ¥å‘Šå·²ä¿å­˜: specs/change_report_20260220.json
âœ… ä»»åŠ¡ç´¢å¼•å·²æ›´æ–°: specs/task_index.json
```

### å˜æ›´æŠ¥å‘Šæ ¼å¼

`specs/change_report_YYYYMMDD.json`:

```json
{
  "timestamp": "2026-02-20T10:30:00",
  "old_index": "specs/task_index_old.json",
  "new_index": "specs/task_index.json",
  "summary": {
    "added": 2,
    "modified": 3,
    "deleted": 0,
    "affected": 3
  },
  "changes": [
    {
      "type": "modified",
      "task_id": "task-002",
      "title": "LLMæŠ½è±¡åŸºç±»",
      "changes": {
        "acceptance_criteria": {
          "old": "chat()æ–¹æ³•å®šä¹‰",
          "new": "chat()æ–¹æ³•æ”¯æŒstream"
        }
      },
      "recommendation": "å°†çŠ¶æ€ä» [x] æ”¹ä¸º [~] å¹¶é‡æ–°å®ç°"
    }
  ],
  "cascade_effects": [
    {
      "task_id": "task-045",
      "title": "Response Builder",
      "depends_on": "task-002",
      "impact": "high"
    }
  ]
}
```

---

## åœºæ™¯å¤„ç†æŒ‡å—

### åœºæ™¯ 1ï¼šæ–°å¢åŠŸèƒ½æ¨¡å—

**æƒ…å†µ**ï¼šåœ¨é¡¹ç›®ä¸­æ–°å¢ä¸€ä¸ªåŠŸèƒ½æ¨¡å—

**æ“ä½œæ­¥éª¤**ï¼š

```markdown
1. åœ¨ devspec.md ä¸­æ·»åŠ æ–°ä»»åŠ¡

## é˜¶æ®µ 9: Dashboard (æ–°å¢)

| ä»»åŠ¡ | æ–‡ä»¶ | å·¥æ—¶ | éªŒæ”¶æ ‡å‡† |
|------|------|------|----------|
| [ ] Streamlit å…¥å£ | src/observability/dashboard/app.py | 2h | å¯å¯åŠ¨ |
| [ ] ç³»ç»Ÿæ€»è§ˆé¡µé¢ | src/observability/dashboard/pages/overview.py | 3h | æ˜¾ç¤ºç»Ÿè®¡ |

2. è¿è¡ŒåŒæ­¥
python3 sync_spec.py --spec devspec.md --output specs/

3. æ­£å¸¸è¿è¡Œ auto-coder
```

**é¢„æœŸç»“æœ**ï¼šæ–°ä»»åŠ¡ä¼šè¢«æ­£å¸¸è¯†åˆ«å’Œå¤„ç†

---

### åœºæ™¯ 2ï¼šä¿®æ”¹å·²å®Œæˆä»»åŠ¡çš„æ¥å£

**æƒ…å†µ**ï¼šæŸä¸ªå·²å®ç°çš„æ¨¡å—éœ€è¦ä¿®æ”¹æ¥å£

**æ“ä½œæ­¥éª¤**ï¼š

```markdown
1. åœ¨ devspec.md ä¸­ä¿®æ”¹éªŒæ”¶æ ‡å‡†

| [x] â†’ [~] | LLMæŠ½è±¡åŸºç±» | src/libs/llm/base_llm.py | 3h | chat()æ”¯æŒstream âš ï¸ INTERFACE-CHANGED |

2. é‡æ–°åŒæ­¥
python3 sync_spec.py --spec devspec.md --output specs/

3. Auto-coder ä¼šä¼˜å…ˆå¤„ç† [~] çŠ¶æ€çš„ä»»åŠ¡
```

**ä»£ç å½±å“**ï¼š

```python
# æ—§ä»£ç  (base_llm.py)
def chat(self, messages: List[Message]) -> str:
    ...

# æ–°ä»£ç  (éœ€è¦æ”¯æŒ stream)
def chat(self, messages: List[Message], stream: bool = False) -> Union[str, Iterator[str]]:
    ...
```

**çº§è”æ›´æ–°**ï¼šæ‰€æœ‰è°ƒç”¨æ­¤æ¥å£çš„ä»£ç éœ€è¦åŒæ­¥æ›´æ–°

---

### åœºæ™¯ 3ï¼šæ›´æ”¹æ–‡ä»¶è·¯å¾„

**æƒ…å†µ**ï¼šé‡æ„ç›®å½•ç»“æ„ï¼Œç§»åŠ¨æ–‡ä»¶ä½ç½®

**æ“ä½œæ­¥éª¤**ï¼š

```markdown
1. åœ¨ devspec.md ä¸­æ›´æ–°æ–‡ä»¶è·¯å¾„

| [~] | Chunk Refiner | src/ingestion/transform/chunk_refiner.py | 3h | LLMé‡å†™chunk |
                 â†‘ ä» src/ingestion/chunk_refiner.py è¿ç§»

2. é‡æ–°åŒæ­¥
python3 sync_spec.py --spec devspec.md --output specs/

3. Auto-coder ä¼šï¼š
   - åœ¨æ–°ä½ç½®ç”Ÿæˆä»£ç 
   - æ—§æ–‡ä»¶éœ€è¦æ‰‹åŠ¨åˆ é™¤æˆ–è¿ç§»
```

**æ‰‹åŠ¨è¿ç§»**ï¼š

```bash
# å¤‡ä»½æ—§æ–‡ä»¶
mv src/ingestion/chunk_refiner.py src/ingestion/chunk_refiner.py.bak

# è¿è¡Œ auto-coder ç”Ÿæˆæ–°æ–‡ä»¶
# æ‰‹åŠ¨è¿ç§»æ—§æ–‡ä»¶ä¸­çš„ä¸šåŠ¡é€»è¾‘åˆ°æ–°æ–‡ä»¶
# æµ‹è¯•é€šè¿‡ååˆ é™¤å¤‡ä»½
rm src/ingestion/chunk_refiner.py.bak
```

---

### åœºæ™¯ 4ï¼šæ ¸å¿ƒç±»å‹å˜æ›´ï¼ˆé«˜é£é™©ï¼‰

**æƒ…å†µ**ï¼šä¿®æ”¹æ ¸å¿ƒæ•°æ®ç±»å‹ï¼ˆå¦‚ Documentã€Chunk ç±»çš„ç»“æ„ï¼‰

**æ“ä½œæ­¥éª¤**ï¼š

```markdown
1. åœ¨ devspec.md ä¸­æ ‡è®°æ ¸å¿ƒç±»å‹å˜æ›´

| [~] | æ ¸å¿ƒç±»å‹å®šä¹‰ | src/core/types.py | 4h | Documentå¢åŠ å…ƒæ•°æ®å­—æ®µ âš ï¸ BREAKING-CHANGE |

2. é‡æ–°åŒæ­¥
python3 sync_spec.py --spec devspec.md --output specs/

3. æŸ¥çœ‹çº§è”å½±å“æŠ¥å‘Šï¼Œç¡®å®šå—å½±å“çš„æ¨¡å—

4. æŒ‰ä¾èµ–é¡ºåºä¾æ¬¡æ›´æ–°ï¼š
   a. å…ˆæ›´æ–°æ ¸å¿ƒç±»å‹ (task-001)
   b. å†æ›´æ–°ç›´æ¥ä¾èµ– (task-010, task-015)
   c. æœ€åæ›´æ–°é—´æ¥ä¾èµ– (task-045, task-050)
```

**çº§è”æ›´æ–°ç¤ºä¾‹**ï¼š

```python
# æ ¸å¿ƒç±»å‹å˜æ›´ (types.py)
@dataclass
class Document:
    id: str
    text: str
    metadata: Dict[str, Any]  # æ–°å¢å­—æ®µ
    tags: List[str]           # æ–°å¢å­—æ®µ

# å—å½±å“çš„ä»£ç éœ€è¦æ›´æ–°
# loader/pdf_loader.py - éœ€è¦å¡«å……æ–°å­—æ®µ
# splitter/document_chunker.py - éœ€è¦ä¼ é€’æ–°å­—æ®µ
# storage/vector_upserter.py - éœ€è¦å­˜å‚¨æ–°å­—æ®µ
```

---

### åœºæ™¯ 5ï¼šåˆ é™¤ä»»åŠ¡

**æƒ…å†µ**ï¼šæŸä¸ªåŠŸèƒ½ä¸å†éœ€è¦ï¼Œä»è§„æ ¼ä¸­åˆ é™¤

**æ“ä½œæ­¥éª¤**ï¼š

```markdown
âš ï¸  è­¦å‘Šï¼šåˆ é™¤ä»»åŠ¡å¯èƒ½ç ´åä¾èµ–å…³ç³»

1. åœ¨ devspec.md ä¸­åˆ é™¤ä»»åŠ¡è¡Œ
2. æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–ä»»åŠ¡ä¾èµ–æ­¤ä»»åŠ¡
3. å¦‚æœæœ‰ï¼Œå…ˆè§£é™¤ä¾èµ–å…³ç³»
4. é‡æ–°åŒæ­¥

5. æ‰‹åŠ¨æ¸…ç†å·²ç”Ÿæˆçš„ä»£ç å’Œ git å†å²ï¼ˆå¦‚éœ€è¦ï¼‰
```

---

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šä»»åŠ¡ç´¢å¼•ä¸åŒæ­¥

**ç—‡çŠ¶**ï¼šè¿è¡Œ find_task.py æ˜¾ç¤ºé”™è¯¯çš„ä»»åŠ¡çŠ¶æ€

**åŸå› **ï¼šdevspec.md è¢«æ‰‹åŠ¨ä¿®æ”¹ï¼Œä½† task_index.json æœªæ›´æ–°

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# é‡æ–°åŒæ­¥
python3 .claude/skills/auto-coder/scripts/sync_spec.py --spec devspec.md --output specs/
```

---

### é—®é¢˜ 2ï¼šæ‰¾ä¸åˆ°ä»»åŠ¡

**ç—‡çŠ¶**ï¼š`find_task.py --task-id task-002` æŠ¥é”™ "ä»»åŠ¡ä¸å­˜åœ¨"

**åŸå› **ï¼šä»»åŠ¡ ID åœ¨é‡æ–°åŒæ­¥åå‘ç”Ÿå˜åŒ–

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡ï¼Œæ‰¾åˆ°æ–°çš„ ID
python3 .claude/skills/auto-coder/scripts/find_task.py --index specs/task_index.json --list
```

---

### é—®é¢˜ 3ï¼šä»£ç ä¸è§„æ ¼ä¸ä¸€è‡´

**ç—‡çŠ¶**ï¼šä»£ç å·²å®ç°ä½†è§„æ ¼ä¸­çš„çŠ¶æ€ä»æ˜¯ `[ ]`

**åŸå› **ï¼šæ‰‹åŠ¨å®ç°ä»£ç ï¼Œæœªæ›´æ–°è§„æ ¼

**è§£å†³æ–¹æ¡ˆ**ï¼š

```markdown
# åœ¨ devspec.md ä¸­æ‰‹åŠ¨æ›´æ–°çŠ¶æ€
| [ ] â†’ [x] | é…ç½®åŠ è½½å™¨ | src/core/settings.py | 2h | å¯åŠ è½½YAML |

# ç„¶åé‡æ–°åŒæ­¥
python3 sync_spec.py --spec devspec.md --output specs/
```

---

### é—®é¢˜ 4ï¼šçº§è”ä¾èµ–é—®é¢˜

**ç—‡çŠ¶**ï¼šä¿®æ”¹ä¸€ä¸ªä»»åŠ¡åï¼Œå¤šä¸ªå…¶ä»–ä»»åŠ¡å¤±è´¥

**åŸå› **ï¼šä¾èµ–å…³ç³»æœªæ­£ç¡®å¤„ç†

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# 1. æŸ¥çœ‹å˜æ›´æŠ¥å‘Š
cat specs/change_report_YYYYMMDD.json

# 2. æ‰¾åˆ°æ‰€æœ‰å—å½±å“çš„ä»»åŠ¡

# 3. æŒ‰ä¾èµ–é¡ºåºæ›´æ–°ï¼š
#    å…ˆæ›´æ–°è¢«ä¾èµ–çš„ä»»åŠ¡
#    å†æ›´æ–°ä¾èµ–å®ƒçš„ä»»åŠ¡
```

---

### é—®é¢˜ 5ï¼šæµ‹è¯•å¤±è´¥ä½†æ— æ³•è‡ªåŠ¨ä¿®å¤

**ç—‡çŠ¶**ï¼š`test_fix.py` è¿è¡Œ 3 è½®åä»ç„¶å¤±è´¥

**åŸå› **ï¼šé—®é¢˜å¤æ‚ï¼Œè¶…å‡ºè‡ªåŠ¨ä¿®å¤èƒ½åŠ›

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# 1. æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
cat specs/test_report_task-XXX.json

# 2. åˆ†æé”™è¯¯åŸå› 
# 3. æ‰‹åŠ¨ä¿®å¤ä»£ç 
# 4. é‡æ–°è¿è¡Œæµ‹è¯•
pytest tests/unit/test_xxx.py -v

# 5. æµ‹è¯•é€šè¿‡åï¼Œæ‰‹åŠ¨æ›´æ–°ä»»åŠ¡çŠ¶æ€
# æˆ–è¿è¡Œ persist.py æŒ‡å®š --status completed
```

---

## æœ€ä½³å®è·µ

### 1. è§„æ ¼è®¾è®¡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **æ—©æœŸç¨³å®š** | æ ¸å¿ƒæ¶æ„å°½æ—©ç¡®å®šï¼Œé¿å…åæœŸå¤§æ”¹ | åœ¨é˜¶æ®µ 1 ç¡®å®š types.py æ¥å£ |
| **æ¨¡å—åŒ–** | æ¯ä¸ªä»»åŠ¡ç‹¬ç«‹ï¼Œå‡å°‘ä¾èµ– | ä½¿ç”¨æ¥å£éš”ç¦» |
| **æ¸è¿›å¼** | ä»åº•å±‚åˆ°ä¸Šå±‚ï¼Œé€æ­¥å®ç° | å…ˆ libs å±‚ï¼Œå† core å±‚ |
| **å¯æµ‹è¯•** | æ¯ä¸ªä»»åŠ¡éƒ½æœ‰æ˜ç¡®çš„éªŒæ”¶æ ‡å‡† | "pytest é€šè¿‡" |

### 2. å˜æ›´ç®¡ç†åŸåˆ™

| åŸåˆ™ | è¯´æ˜ |
|------|------|
| **å°æ­¥å¿«è·‘** | é¢‘ç¹å°å˜æ›´ä¼˜äºå¶å°”å¤§å˜æ›´ |
| **å‘åå…¼å®¹** | æ–°å¢å­—æ®µä¼˜äºåˆ é™¤å­—æ®µ |
| **æ ‡è®°å˜æ›´** | ä½¿ç”¨ âš ï¸ æ ‡è®°é‡è¦å˜æ›´ |
| **ä¿ç•™å†å²** | æ—§ä»£ç å…ˆå¤‡ä»½ï¼Œç¡®è®¤ç¨³å®šåå†åˆ é™¤ |

### 3. å¼€å‘å·¥ä½œæµ

```bash
# æ ‡å‡†å¼€å‘å¾ªç¯
while true; do
    # 1. åŒæ­¥è§„æ ¼
    python3 sync_spec.py --spec devspec.md --output specs/

    # 2. æŸ¥çœ‹å˜æ›´
    cat specs/change_report_*.json | jq '.'

    # 3. å¤„ç†ä¸‹ä¸€ä¸ªä»»åŠ¡
    echo "auto code" | claude

    # 4. æ£€æŸ¥çŠ¶æ€
    python3 find_task.py --list

    # 5. ç»§ç»­æˆ–é€€å‡º
done
```

### 4. Git æäº¤ç­–ç•¥

```bash
# æ¯ä¸ªä»»åŠ¡ä¸€ä¸ªåŸå­ commit
feat(core): é…ç½®åŠ è½½å™¨å®ç°
feat(types): æ ¸å¿ƒæ•°æ®ç±»å‹å®šä¹‰
feat(llm): LLMæŠ½è±¡åŸºç±»

# è§„æ ¼å˜æ›´å•ç‹¬ commit
docs(spec): æ›´æ–° LLM æ¥å£æ”¯æŒ stream

# é‡æ„å•ç‹¬ commit
refactor(ingestion): å°† chunking ç§»è‡³ transform ç›®å½•
```

### 5. å›¢é˜Ÿåä½œ

| åœºæ™¯ | åšæ³• |
|------|------|
| å¤šäººå¼€å‘ | åœ¨ devspec.md ä¸­åˆ†é…ä»»åŠ¡ï¼Œæ·»åŠ  `@è´Ÿè´£äºº` |
| ä»£ç å®¡æŸ¥ | æ¯ä¸ªä»»åŠ¡å®Œæˆååˆ›å»º PR |
| å†²çªè§£å†³ | å®šæœŸåŒæ­¥ task_index.jsonï¼Œè§£å†³çŠ¶æ€å†²çª |

---

## é™„å½•

### A. çŠ¶æ€æ ‡è®°çº¦å®š

| æ ‡è®° | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| `[ ]` | æœªå¼€å§‹ | æ–°ä»»åŠ¡æˆ–å¾…è¿”å·¥ä»»åŠ¡ |
| `[~]` | è¿›è¡Œä¸­ | æ­£åœ¨å®ç°æˆ–éœ€è¦è¿”å·¥ |
| `[x]` | å·²å®Œæˆ | éªŒæ”¶æ ‡å‡†æ»¡è¶³ |
| âš ï¸ | æ³¨æ„ | è®¾è®¡å˜æ›´æˆ–ç ´åæ€§æ›´æ–° |
| ğŸ”„ | è¿”å·¥ | éœ€è¦é‡æ–°å®ç° |

### B. æ–‡ä»¶è·¯å¾„çº¦å®š

| è·¯å¾„æ¨¡å¼ | è¯´æ˜ |
|----------|------|
| `src/core/*` | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ |
| `src/libs/*` | å¯æ’æ‹”æŠ½è±¡å±‚ |
| `src/ingestion/*` | æ•°æ®æ‘„å– |
| `tests/unit/*` | å•å…ƒæµ‹è¯• |
| `tests/integration/*` | é›†æˆæµ‹è¯• |

### C. å‘½ä»¤é€ŸæŸ¥

```bash
# åŒæ­¥è§„æ ¼
python3 sync_spec.py --spec devspec.md --output specs/

# æŸ¥çœ‹ä¸‹ä¸€ä¸ªä»»åŠ¡
python3 find_task.py --index specs/task_index.json

# åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡
python3 find_task.py --index specs/task_index.json --list

# JSON è¾“å‡ºï¼ˆç”¨äºè„šæœ¬ï¼‰
python3 find_task.py --index specs/task_index.json --json

# æ›´æ–°ä»»åŠ¡çŠ¶æ€
python3 persist.py --task task-002 --status completed --commit
```

---

## æ›´æ–°æ—¥å¿—

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´ |
|------|------|------|
| 2026-02-20 | 1.0 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«è§„æ ¼å˜æ›´ç®¡ç†åŠŸèƒ½ |

---

*æœ¬æ‰‹å†Œéš Auto-Coder æŠ€èƒ½æŒç»­æ›´æ–°*
